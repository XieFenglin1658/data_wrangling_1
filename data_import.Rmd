---
title: "data import"
output: github_document
---
```{r setup}
library(tidyverse)
```

## Read in some data

 Read in the litters dataset.

##有两种途径，absolute path 和relative path,absolute path是指从电脑-...-user-desktop-school-homework-...这种路径只适用于你的电脑，任何人想复刻都有可能出现问题，而relative path是基于project/repository的，任何人按步骤来复刻都可以成功，这也是R project的一个优势所在,就算把文件换了储存地方，reproduce的时候 still work。

 
```{r}
litters_df =
  read_csv("data/FAS_litters.csv")
```
 

## Take a look at the data 

printing in the console

##数据形式都被转化成了snake case:litter number -> litters_number

```{r}
names(litters_df)
```

update the names in `litters_df`
##不是直接load含有janitor的package，而是使用下面的方法，因为我们只需要janitor,使用cleannames，package里的其他function我们用不上

```{r}
litters_df =
  janitor::clean_names(litters_df)
```

look at the data!

```{r}
litters_df
```

```{r}
head(litters_df)
```

##以下这个方法是有点gimmicky的，一般是在console中输入view(litters_df)
but sometimes skimming data is neat?
```{r}
skimr::skim(litters_df)
```

## Fix the missingness
##以下na的意思是将数据中的"NA",".",""都看成missing data,而不是当作charactor.
```{r}
litters_df = 
  read_csv("data/FAS_litters.csv", na = c("NA", ".", ""))
```

## import data skipping first 3 rows
```{r}
pup_df =
  read_csv(
    "data/FAS_pups.csv",
    skip = 3,
    na = c("NA", ".", "")
  )

pup_df =
  janitor::clean_names(pup_df)
```


## Options to read_csv

check out the `?rread_csv` for more information

## Okay what about excel

CSVs are really great but sometimes you get excel file.
##保存文件以csv的形式rather than excel

## Other file formats

Read in an excel file

```{r}
library(readxl)
mlb_df = 
  read_excel("data/mlb11.xlsx")
```

Import LotR word counts
##有时候数据在excel中是几个单独的小表格，用range就可以精准定位我要哪些数据

```{r}
fotr_df =
  read_excel("data/LotR_Words.xlsx", range = "B3:D6")
```


Read in an SAS file

```{r}
library(haven)
pulse_df =
  read_sas("data/public_pulse_data.sas7bdat")

pulse_df =
  janitor::clean_names(pulse_df)
```


## Why do I hate read.csv so much? rather than read_csv
read.csv不能很好的展示数据，信息提供也没有read_csv多
```{r}
litters_df_base =
  read.csv("data/FAS_litters.csv")
```

## What about data exporting
##要export的data的名字+需要export的地点

```{r}
write.csv(fotr_df, "data/fotr_df.csv")
```



